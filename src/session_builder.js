'use strict';const _0x141e70=_0x5ad8;(function(_0x59c9ca,_0x433e4a){const _0x2691b0=_0x5ad8,_0x5c08b1=_0x59c9ca();while(!![]){try{const _0x5d0530=parseInt(_0x2691b0(0x14d))/(0x514+-0x1*0x1749+0x1236)*(parseInt(_0x2691b0(0x176))/(0x13*-0x173+0xfd*0x21+-0x512))+parseInt(_0x2691b0(0x13e))/(-0x1*-0xdf6+0xf*-0x1f3+0xf4a)*(parseInt(_0x2691b0(0x14f))/(-0x172d+-0x1797+0x3e6*0xc))+-parseInt(_0x2691b0(0x150))/(0x25*-0x4a+0x1*-0x1069+0x1b20)+parseInt(_0x2691b0(0x1a7))/(-0x16fb+0x691+0x1070)*(parseInt(_0x2691b0(0x180))/(-0x86b+-0x3*-0x2f2+0xa*-0xa))+parseInt(_0x2691b0(0x149))/(-0x1c09+0x8b5+0x135c)+-parseInt(_0x2691b0(0x17e))/(0x71*0x1+0x80d+0x1*-0x875)+-parseInt(_0x2691b0(0x186))/(-0x2396+-0x6e6+0x2a86)*(parseInt(_0x2691b0(0x140))/(0x1d91+-0x247b+0x89*0xd));if(_0x5d0530===_0x433e4a)break;else _0x5c08b1['push'](_0x5c08b1['shift']());}catch(_0xe97a33){_0x5c08b1['push'](_0x5c08b1['shift']());}}}(_0x4c7a,0xb013f+-0x10ac+-0x3982f));function _0x4c7a(){const _0xf83ea7=['initIncomi','getOpenSes','Invalid\x20ca','addChain','HmCEm','dentity','keyId','36BXLwps','getSession','_type','AdHWr','verifySign','initOutgoi','alloc','HYcXc','KYFrI','Closing\x20op','./chain_ty','GrzgH','Session','eKey\x20ID','isTrustedI','createEntr','ll\x20to\x20init','./errors','het','137097hkEXiD','KdorJ','11CwTHqn','yPair','Ratchet','\x20bundle','dentityKey','ession\x20for','eyId','undle','dnIvh','3048768rrXLXB','registrati','indexInfo','sion','88130ffbYbY','ature','16XRSvnb','497840KUdvKZ','Error','ets','gnedPreKey','identityKe','currentRat','LfQZG','SENDING','aqIVK','loadSessio','set','loadPreKey','greement','PreKey','pendingPre','ephemeralK','zRiGO','OQVJD','publicKey','calculateA','calculateS','./crypto','baseKey','./curve','wvpfV','preKey','\x20new\x20outgo','storage','loadSigned','warn','endingRatc','addr','bRkpu','Invalid\x20Pr','setSession','Missing\x20Si','GDvIN','Key','20NSEWHi','storeSessi','OURS','eyPair','THEIRS','./queue_jo','record','deriveSecr','2768814lylHDh','privKey','736645RSzpUt','en\x20session','./session_','onId','getOurIden','exports','11880080VHROKR','ale\x20open\x20s','closeSessi','of\x20incomin','generateKe','pubKey','g\x20prekey\x20b','preKeyId','./base_key','UntrustedI','signature','toString','ing\x20prekey','now','rootKey','from','chet','signedPreK','FLZuX','Text','initSessio','\x20in\x20favor\x20','PreKeyErro','tity','Closing\x20st','Externaler'];_0x4c7a=function(){return _0xf83ea7;};return _0x4c7a();}const BaseKeyType=require(_0x141e70(0x18e)+_0x141e70(0x1a9)),ChainType=require(_0x141e70(0x1b1)+'pe'),SessionRecord=require(_0x141e70(0x182)+_0x141e70(0x17c)),crypto=require(_0x141e70(0x165)),curve=require(_0x141e70(0x167)),errors=require(_0x141e70(0x13c)),queueJob=require(_0x141e70(0x17b)+'b');class SessionBuilder{constructor(_0x51ec59,_0x23ad31){const _0xfc038a=_0x141e70;this[_0xfc038a(0x16f)]=_0x23ad31,this[_0xfc038a(0x16b)]=_0x51ec59;}async[_0x141e70(0x1ac)+'ng'](_0x46ac0f){const _0x55ef8a=_0x141e70,_0x40a0f6={'AdHWr':_0x55ef8a(0x19e)+_0x55ef8a(0x187)+_0x55ef8a(0x145)+_0x55ef8a(0x16a)+_0x55ef8a(0x192)+_0x55ef8a(0x143),'zRiGO':function(_0x1c8998,_0x41d691,_0x49ddb5){return _0x1c8998(_0x41d691,_0x49ddb5);}},_0x4d8545=this[_0x55ef8a(0x16f)][_0x55ef8a(0x191)]();return await _0x40a0f6[_0x55ef8a(0x160)](queueJob,_0x4d8545,async()=>{const _0x22a559=_0x55ef8a;if(!await this[_0x22a559(0x16b)][_0x22a559(0x139)+_0x22a559(0x1a5)](this[_0x22a559(0x16f)]['id'],_0x46ac0f[_0x22a559(0x154)+'y']))throw new errors[(_0x22a559(0x18f))+(_0x22a559(0x144))+(_0x22a559(0x151))](this[_0x22a559(0x16f)]['id'],_0x46ac0f[_0x22a559(0x154)+'y']);curve[_0x22a559(0x1ab)+_0x22a559(0x14e)](_0x46ac0f[_0x22a559(0x154)+'y'],_0x46ac0f[_0x22a559(0x197)+'ey'][_0x22a559(0x162)],_0x46ac0f[_0x22a559(0x197)+'ey'][_0x22a559(0x190)]);const _0x4784fc=curve[_0x22a559(0x18a)+_0x22a559(0x141)](),_0x457a3f=_0x46ac0f[_0x22a559(0x169)]&&_0x46ac0f[_0x22a559(0x169)][_0x22a559(0x162)],_0x138387=await this[_0x22a559(0x19a)+'n'](!![],_0x4784fc,undefined,_0x46ac0f[_0x22a559(0x154)+'y'],_0x457a3f,_0x46ac0f[_0x22a559(0x197)+'ey'][_0x22a559(0x162)],_0x46ac0f[_0x22a559(0x14a)+_0x22a559(0x183)]);_0x138387[_0x22a559(0x15e)+_0x22a559(0x175)]={'signedKeyId':_0x46ac0f[_0x22a559(0x197)+'ey'][_0x22a559(0x1a6)],'baseKey':_0x4784fc[_0x22a559(0x18b)]};_0x46ac0f[_0x22a559(0x169)]&&(_0x138387[_0x22a559(0x15e)+_0x22a559(0x175)][_0x22a559(0x18d)]=_0x46ac0f[_0x22a559(0x169)][_0x22a559(0x1a6)]);let _0xbc09a0=await this[_0x22a559(0x16b)][_0x22a559(0x159)+'n'](_0x4d8545);if(!_0xbc09a0)_0xbc09a0=new SessionRecord();else{const _0x42064f=_0xbc09a0[_0x22a559(0x1a1)+_0x22a559(0x14c)]();_0x42064f&&(console[_0x22a559(0x16d)](_0x40a0f6[_0x22a559(0x1aa)]),_0xbc09a0[_0x22a559(0x188)+'on'](_0x42064f));}_0xbc09a0[_0x22a559(0x172)](_0x138387),await this[_0x22a559(0x16b)][_0x22a559(0x177)+'on'](_0x4d8545,_0xbc09a0);});}async[_0x141e70(0x1a0)+'ng'](_0x22e84b,_0x40e4dd){const _0x3925f2=_0x141e70,_0x280546={'GDvIN':_0x3925f2(0x171)+_0x3925f2(0x138),'KYFrI':_0x3925f2(0x173)+_0x3925f2(0x153),'HmCEm':_0x3925f2(0x1b0)+_0x3925f2(0x181)+_0x3925f2(0x19b)+_0x3925f2(0x189)+_0x3925f2(0x18c)+_0x3925f2(0x147)},_0xe0c679=this[_0x3925f2(0x16f)][_0x3925f2(0x191)]();if(!await this[_0x3925f2(0x16b)][_0x3925f2(0x139)+_0x3925f2(0x1a5)](_0xe0c679,_0x40e4dd[_0x3925f2(0x154)+'y']))throw new errors[(_0x3925f2(0x18f))+(_0x3925f2(0x144))+(_0x3925f2(0x151))](this[_0x3925f2(0x16f)]['id'],_0x40e4dd[_0x3925f2(0x154)+'y']);if(_0x22e84b[_0x3925f2(0x1a8)](_0x40e4dd[_0x3925f2(0x166)]))return;const _0x32a87c=await this[_0x3925f2(0x16b)][_0x3925f2(0x15b)](_0x40e4dd[_0x3925f2(0x18d)]);if(_0x40e4dd[_0x3925f2(0x18d)]&&!_0x32a87c)throw new errors[(_0x3925f2(0x19c))+'r'](_0x280546[_0x3925f2(0x174)]);const _0x5d37a9=await this[_0x3925f2(0x16b)][_0x3925f2(0x16c)+_0x3925f2(0x15d)](_0x40e4dd[_0x3925f2(0x197)+_0x3925f2(0x146)]);if(!_0x5d37a9)throw new errors[(_0x3925f2(0x19c))+'r'](_0x280546[_0x3925f2(0x1af)]);const _0x4f2e43=_0x22e84b[_0x3925f2(0x1a1)+_0x3925f2(0x14c)]();return _0x4f2e43&&(console[_0x3925f2(0x16d)](_0x280546[_0x3925f2(0x1a4)]),_0x22e84b[_0x3925f2(0x188)+'on'](_0x4f2e43)),_0x22e84b[_0x3925f2(0x172)](await this[_0x3925f2(0x19a)+'n'](![],_0x32a87c,_0x5d37a9,_0x40e4dd[_0x3925f2(0x154)+'y'],_0x40e4dd[_0x3925f2(0x166)],undefined,_0x40e4dd[_0x3925f2(0x14a)+_0x3925f2(0x183)])),_0x40e4dd[_0x3925f2(0x18d)];}async[_0x141e70(0x19a)+'n'](_0x2f6916,_0x2d1d5a,_0x15ae1e,_0x5c6404,_0x46af62,_0x34de70,_0x6319f2){const _0x406e7a=_0x141e70,_0x451e67={'OQVJD':_0x406e7a(0x1a2)+_0x406e7a(0x13b)+_0x406e7a(0x1b3),'dnIvh':function(_0x138b6c,_0x2bb384){return _0x138b6c||_0x2bb384;},'wvpfV':function(_0x3d9810,_0x452c45){return _0x3d9810*_0x452c45;},'GrzgH':function(_0x4ded82,_0x5732cd){return _0x4ded82<_0x5732cd;},'FLZuX':function(_0x5d84bb,_0x5c1906){return _0x5d84bb*_0x5c1906;},'aqIVK':function(_0x84d26a,_0x355a7c){return _0x84d26a*_0x355a7c;},'LfQZG':function(_0x1d0e4c,_0x5e0f69){return _0x1d0e4c&&_0x5e0f69;},'bRkpu':function(_0x230ac4,_0x8107bd){return _0x230ac4*_0x8107bd;},'KdorJ':_0x406e7a(0x19f)+_0x406e7a(0x199)};if(_0x2f6916){if(_0x15ae1e)throw new Error(_0x451e67[_0x406e7a(0x161)]);_0x15ae1e=_0x2d1d5a;}else{if(_0x34de70)throw new Error(_0x451e67[_0x406e7a(0x161)]);_0x34de70=_0x46af62;}let _0x5b467d;_0x451e67[_0x406e7a(0x148)](!_0x2d1d5a,!_0x46af62)?_0x5b467d=new Uint8Array(_0x451e67[_0x406e7a(0x168)](-0x7f8+0xff8+-0x7e0,0x4+-0x5*-0x77b+0x17f*-0x19)):_0x5b467d=new Uint8Array(_0x451e67[_0x406e7a(0x168)](0x1*-0x6d7+0xe1e+-0x727,-0x252+0x3*0x9d1+-0x1*0x1b1c));for(var _0x51bbdb=-0x1*0x1+0x5*-0x595+0x1bea;_0x451e67[_0x406e7a(0x1b2)](_0x51bbdb,-0x2*0xac1+-0x23f4+-0x15*-0x2be);_0x51bbdb++){_0x5b467d[_0x51bbdb]=0x1a45+-0x1f31+0x5eb;}const _0x1a4a01=await this[_0x406e7a(0x16b)][_0x406e7a(0x184)+_0x406e7a(0x19d)](),_0x3b5f4b=curve[_0x406e7a(0x163)+_0x406e7a(0x15c)](_0x34de70,_0x1a4a01[_0x406e7a(0x17f)]),_0x25cf3a=curve[_0x406e7a(0x163)+_0x406e7a(0x15c)](_0x5c6404,_0x15ae1e[_0x406e7a(0x17f)]),_0x414a9a=curve[_0x406e7a(0x163)+_0x406e7a(0x15c)](_0x34de70,_0x15ae1e[_0x406e7a(0x17f)]);_0x2f6916?(_0x5b467d[_0x406e7a(0x15a)](new Uint8Array(_0x3b5f4b),0xf*-0x245+0x22fa+0x17*-0x9),_0x5b467d[_0x406e7a(0x15a)](new Uint8Array(_0x25cf3a),_0x451e67[_0x406e7a(0x168)](0x7*0x3cd+-0x535*-0x3+-0x2a1a,-0x82*0x2+0x25a+-0x1*0x154))):(_0x5b467d[_0x406e7a(0x15a)](new Uint8Array(_0x3b5f4b),_0x451e67[_0x406e7a(0x198)](0x412+0x85d+-0xc4f,-0x1b1*0xc+0x1e82+-0x2*0x51a)),_0x5b467d[_0x406e7a(0x15a)](new Uint8Array(_0x25cf3a),-0x7ca+-0x108f+0x5*0x4e5));_0x5b467d[_0x406e7a(0x15a)](new Uint8Array(_0x414a9a),_0x451e67[_0x406e7a(0x158)](-0x1763*0x1+-0x26*0x19+0x913*0x3,-0x1*0x22fc+-0x31a+0x2619));if(_0x451e67[_0x406e7a(0x156)](_0x2d1d5a,_0x46af62)){const _0x547493=curve[_0x406e7a(0x163)+_0x406e7a(0x15c)](_0x46af62,_0x2d1d5a[_0x406e7a(0x17f)]);_0x5b467d[_0x406e7a(0x15a)](new Uint8Array(_0x547493),_0x451e67[_0x406e7a(0x170)](-0x67a+0x1f11+-0x1877,0x7b8+0x32d+-0xae1));}const _0x3491cf=crypto[_0x406e7a(0x17d)+_0x406e7a(0x152)](Buffer[_0x406e7a(0x195)](_0x5b467d),Buffer[_0x406e7a(0x1ad)](0x868*0x1+0x407+-0xc4f),Buffer[_0x406e7a(0x195)](_0x451e67[_0x406e7a(0x13f)])),_0x33e789=SessionRecord[_0x406e7a(0x13a)+'y']();return _0x33e789[_0x406e7a(0x14a)+_0x406e7a(0x183)]=_0x6319f2,_0x33e789[_0x406e7a(0x155)+_0x406e7a(0x196)]={'rootKey':_0x3491cf[-0xf05+-0x1*0x184e+0x2753*0x1],'ephemeralKeyPair':_0x2f6916?curve[_0x406e7a(0x18a)+_0x406e7a(0x141)]():_0x15ae1e,'lastRemoteEphemeralKey':_0x34de70,'previousCounter':0x0},_0x33e789[_0x406e7a(0x14b)]={'created':Date[_0x406e7a(0x193)](),'used':Date[_0x406e7a(0x193)](),'remoteIdentityKey':_0x5c6404,'baseKey':_0x2f6916?_0x2d1d5a[_0x406e7a(0x18b)]:_0x46af62,'baseKeyType':_0x2f6916?BaseKeyType[_0x406e7a(0x178)]:BaseKeyType[_0x406e7a(0x17a)],'closed':-(-0x2345+-0xc5c*0x2+0x7*0x892)},_0x2f6916&&this[_0x406e7a(0x164)+_0x406e7a(0x16e)+_0x406e7a(0x13d)](_0x33e789,_0x34de70),_0x33e789;}[_0x141e70(0x164)+_0x141e70(0x16e)+_0x141e70(0x13d)](_0x569b11,_0x1421f7){const _0x8ca7d8=_0x141e70,_0x2cbf04={'HYcXc':_0x8ca7d8(0x19f)+_0x8ca7d8(0x142)},_0x5bd1c4=_0x569b11[_0x8ca7d8(0x155)+_0x8ca7d8(0x196)],_0x1b613f=curve[_0x8ca7d8(0x163)+_0x8ca7d8(0x15c)](_0x1421f7,_0x5bd1c4[_0x8ca7d8(0x15f)+_0x8ca7d8(0x179)][_0x8ca7d8(0x17f)]),_0x377fe5=crypto[_0x8ca7d8(0x17d)+_0x8ca7d8(0x152)](_0x1b613f,_0x5bd1c4[_0x8ca7d8(0x194)],Buffer[_0x8ca7d8(0x195)](_0x2cbf04[_0x8ca7d8(0x1ae)]));_0x569b11[_0x8ca7d8(0x1a3)](_0x5bd1c4[_0x8ca7d8(0x15f)+_0x8ca7d8(0x179)][_0x8ca7d8(0x18b)],{'messageKeys':{},'chainKey':{'counter':-(-0xb*-0x65+-0x1*-0x1dd+0x211*-0x3),'key':_0x377fe5[-0x1*-0x185f+0x23c2+-0xd*0x4a0]},'chainType':ChainType[_0x8ca7d8(0x157)]}),_0x5bd1c4[_0x8ca7d8(0x194)]=_0x377fe5[0x3c7+-0x6*0x4cd+-0x95*-0x2b];}}function _0x5ad8(_0x4b70c1,_0x5a1c51){const _0x28dd7c=_0x4c7a();return _0x5ad8=function(_0x3a8613,_0x27d6b3){_0x3a8613=_0x3a8613-(0x1067*-0x2+-0x2660+0x3*0x1822);let _0x2f7f70=_0x28dd7c[_0x3a8613];return _0x2f7f70;},_0x5ad8(_0x4b70c1,_0x5a1c51);}module[_0x141e70(0x185)]=SessionBuilder;
